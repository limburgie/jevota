<f:view xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<ui:composition template="templates/front.xhtml">
		<ui:define name="title">Home</ui:define>
		<ui:define name="left-col">
			<div class="block">
				<ui:repeat value="#{newsBean.latestItems}" var="item" size="3" varStatus="i">
					<h:panelGroup styleClass="news-primary" layout="block" rendered="#{i.index == 0}">
						<h:link outcome="/pages/news.jsf">
							<f:param name="itemId" value="#{item.id}"/>
							<h:graphicImage value="#{item.imageUrl}" styleClass="news-img-large" rendered="#{!empty item.imageUrl}"/>
							<div>
								<h2>#{item.title}</h2>
								<p class="news-body">
									#{item.getBodyShortened(empty item.imageUrl ? 200 : 150)}
								</p>
								<p class="small-grey">
									<h:outputText value="#{item.createDate}">
										<f:convertDateTime pattern="#{msg.date_format}"/>
									</h:outputText>
									<h:outputText styleClass="float-right" value="#{item.initialAuthor.fullName}"/>
								</p>
							</div>
							<div class="clear"></div>
						</h:link>
					</h:panelGroup>
					<h:panelGroup styleClass="news-secundary news-item-#{i.index}" layout="block" rendered="#{i.index > 0}">
						<h:link outcome="/pages/news.jsf">
							<f:param name="itemId" value="#{item.id}"/>
							<h3>#{item.getTitleShortened(50)}</h3>
							<h:graphicImage value="#{item.imageUrl}" styleClass="news-img-small" rendered="#{!empty item.imageUrl}"/>
							<div>
								<p>
									#{item.getBodyShortened(empty item.imageUrl ? 150 : 100)}
								</p>
								<p class="small-grey">
									<h:outputText value="#{item.createDate}">
										<f:convertDateTime pattern="#{msg.date_format}"/>
									</h:outputText>
									<h:outputText styleClass="float-right" value="#{item.initialAuthor.fullName}"/>
								</p>
							</div>
							<div class="clear"></div>
						</h:link>
					</h:panelGroup>
				</ui:repeat>
				<div class="clear"></div>
			</div>
			<div class="block">
				<h:form id="gamesForm">
					<h:panelGroup id="filter" layout="block">
						<div class="float-left">
							<h2>#{gameFilterBean.activeFilter.filter.label}</h2>
						</div>
						<div class="float-right">
							<div class="filter">
								<ui:include src="includes/filter/calendarWeekFilter.xhtml"/>
								<h:outputText value=" of "/>
								<ui:include src="includes/filter/seasonWeekFilter.xhtml"/>
							</div>
						</div>
					</h:panelGroup>
					<div class="clear"></div>
					<p:dataTable id="games" value="#{gameFilterBean.games}" var="game" emptyMessage="Er zijn deze week geen wedstrijden"
						selection="#{gameBean.game}" selectionMode="single" rowKey="#{game.id}">
						<p:ajax event="rowSelect" listener="#{gameBean.toGame}"/>
						<p:columnGroup type="header">
							<p:row>
								<p:column colspan="3" headerText="Datum" sortBy="#{game.date}"/>
								<p:column headerText="Thuis"/>
								<p:column colspan="3" headerText="Score"/>
								<p:column headerText="Uit"/>
							</p:row>
						</p:columnGroup>
						<p:column>
							<h:outputText value="#{game.date}">
								<f:convertDateTime pattern="E" locale="#{constantsBean.locale}"/>
							</h:outputText>
						</p:column>
						<p:column>
							<h:outputText value="#{game.date}">
								<f:convertDateTime pattern="dd-MM"/>
							</h:outputText>
						</p:column>
						<p:column>
							<h:outputText value="#{game.date}">
								<f:convertDateTime pattern="HH:mm"/>
							</h:outputText>
						</p:column>
						<p:column>
							<h:outputText value="#{game.homeTeam.name}" rendered="#{game.homeTeam.lanaken}" styleClass="bold"/>
							<h:outputText value="#{game.homeTeam.name}" rendered="#{!game.homeTeam.lanaken}"/>
						</p:column>
						<p:column>
							<h:outputText value="#{game.homeTeamPtsLabel}" rendered="#{game.inPast}"/>
						</p:column>
						<p:column>
							-
						</p:column>
						<p:column>
							<h:outputText value="#{game.outTeamPtsLabel}" rendered="#{game.inPast}"/>
						</p:column>
						<p:column>
							<h:outputText value="#{game.outTeam.name}" rendered="#{game.outTeam.lanaken}" styleClass="bold"/>
							<h:outputText value="#{game.outTeam.name}" rendered="#{!game.outTeam.lanaken}"/>
						</p:column>
					</p:dataTable>
				</h:form>
			</div>
		</ui:define>
		<ui:define name="right-col">
			<ui:include src="includes/first-upcoming-event.xhtml"/>
		</ui:define>
	</ui:composition>
</f:view>